<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeopleMade Art Certification</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- HEADER -->
<header>
    <div class="logo">PM</div>
    <nav>
        <a href="#about">About</a>
        <a href="#process">Process</a>
        <a href="#pricing">Pricing</a>
        <a href="#contact">Contact</a>
    </nav>
</header>

<!-- HERO SECTION -->
<section class="hero">
    <h1>Certify Your Art as Human-Made</h1>
    <p>Protect your work. Build trust. Stand out in the age of AI.</p>
    <a href="#pricing" class="button">Get Certified</a>
</section>

<!-- ABOUT SECTION -->
<section id="about" class="section">
    <h2>About Us</h2>
    <p>
        PMAC (PeopleMade Art Certification) verifies that artwork was created by real human artists,
        not generated by AI. Using process evidence, forensic analysis, and metadata checks, we
        provide trusted certificates for collectors, galleries, and artists.
    </p>
</section>

<!-- UPLOAD SECTION -->
<section id="upload" class="section">
    <h2>Upload Artwork for Certification</h2>
    <p>Select your artwork and any optional proof files.</p>

    <div class="upload-box">
        <label class="upload-label">Artwork File</label>
        <input type="file" id="artFile" accept="image/*" />

        <label class="upload-label">Optional Proof (PSD, Timelapse, Sketches)</label>
        <input type="file" id="proofFiles" multiple />

        <button class="button" onclick="startVerification()">Submit for Verification</button>

        <div id="preview" class="preview"></div>
        <div id="status"></div>
    </div>
</section>

<!-- PROCESS SECTION -->
<section id="process" class="section dark">
    <h2>How Certification Works</h2>
    <div class="steps">
        <div class="step"><h3>1. Upload Your Artwork</h3><p>Submit the finished piece and optional time-lapse, PSD files, or sketches.</p></div>
        <div class="step"><h3>2. Verification & AI Screening</h3><p>We analyze metadata, layer data, and run AI-detection tools.</p></div>
        <div class="step"><h3>3. Human Review</h3><p>Our reviewers check creation evidence and confirm authenticity.</p></div>
        <div class="step"><h3>4. Receive Your Certificate</h3><p>Get a tamper-proof certificate with a unique ID and verification link.</p></div>
    </div>
</section>

<!-- PRICING -->
<section id="pricing" class="section">
    <h2>Pricing</h2>

    <div class="pricing-container">
        <div class="price-card">
            <h3>Single Certification</h3>
            <p class="price">$10</p>
            <ul>
                <li>1 artwork</li>
                <li>Metadata & forensic analysis</li>
                <li>Human review</li>
                <li>Certificate with ID</li>
            </ul>
            <a class="button small">Choose</a>
        </div>

        <div class="price-card popular">
            <h3>Artist Bundle</h3>
            <p class="price">$50</p>
            <ul>
                <li>10 certifications</li>
                <li>Priority review</li>
                <li>Artist portfolio page</li>
                <li>Certificate verification link</li>
            </ul>
            <a class="button small">Choose</a>
        </div>

        <div class="price-card">
            <h3>Gallery Plan</h3>
            <p class="price">$199</p>
            <ul>
                <li>50 certifications</li>
                <li>Dedicated reviewer</li>
                <li>Bulk submission</li>
                <li>Custom badges for art sales</li>
            </ul>
            <a class="button small">Choose</a>
        </div>
    </div>
</section>

<!-- CONTACT -->
<section id="contact" class="section dark">
    <h2>Contact Us</h2>
    <p>Email: support@pmac-certify.com</p>
    <p>Instagram: @pmac.verify</p>
    <p>Business Hours: Mon–Fri, 9 AM–5 PM</p>
</section>

<footer>
    <p>© 2025 PMAC — PeopleMade Art Certification</p>
</footer>

<script>
const API_BASE = "https://your-backend-url.com";

// Compute SHA-256 hash
async function getFileHash(file) {
    const buffer = await file.arrayBuffer();
    const hashBuffer = await crypto.subtle.digest("SHA-256", buffer);
    return Array.from(new Uint8Array(hashBuffer))
        .map(b => b.toString(16).padStart(2, "0"))
        .join("");
}

// Main verification function
async function startVerification() {
    const artFile = document.getElementById("artFile").files[0];
    const proofFiles = document.getElementById("proofFiles").files;
    const status = document.getElementById("status");
    const preview = document.getElementById("preview");

    status.innerHTML = "";
    preview.innerHTML = "";

    if (!artFile) {
        status.innerHTML = "❌ Please upload your artwork file.";
        return;
    }

    // Preview image
    const reader = new FileReader();
    reader.onload = e => preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
    reader.readAsDataURL(artFile);

    // Compute file hash
    const hash = await getFileHash(artFile);

    // Check if hash already exists
    let checkRes = await fetch(API_BASE + "/hash/check", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ hash })
    });
    let checkData = await checkRes.json();

    if (checkData.exists) {
        status.innerHTML = `⚠️ This artwork is already certified.<br>Certificate ID: <b>${checkData.certificateID}</b>`;
        return;
    }

    // Fake verification steps (visual)
    let steps = [
        "Uploading artwork...",
        "Checking metadata...",
        "Analyzing for AI patterns...",
        "Processing optional proof files...",
        "Human reviewer validation...",
        "Finalizing certificate..."
    ];

    for (let step of steps) {
        status.innerHTML += step + "<br>";
        await new Promise(r => setTimeout(r, 700));
    }

    // Generate certificate ID
    const certID = "PMAC-" + Math.random().toString(36).substring(2, 10).toUpperCase();
    status.innerHTML += `<br>✅ Verification Complete!<br>Your Certificate ID:<br><b>${certID}</b>`;

    // Save hash + certificateID
    await fetch(API_BASE + "/hash/store", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ hash, certificateID: certID })
    });
}
</script>

</body>
</html>
